<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="blog.xiaojn.cn"><title>C++和Java中字符串与数字的相互转换 | 晓江南的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">C++和Java中字符串与数字的相互转换</h1><a id="logo" href="/.">晓江南的博客</a><p class="description">Hope is a good thing!</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">C++和Java中字符串与数字的相互转换</h1><div class="post-meta">Apr 9, 2017<span> | </span><span class="category"><a href="/categories/算法/">算法</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#快速参考"><span class="toc-number">1.</span> <span class="toc-text">快速参考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数字转字符串"><span class="toc-number">2.</span> <span class="toc-text">数字转字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-中如何把数字转换为字符串"><span class="toc-number">2.1.</span> <span class="toc-text">C++中如何把数字转换为字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#用sprintf函数"><span class="toc-number">2.1.1.</span> <span class="toc-text">用sprintf函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用ostreamstring对象"><span class="toc-number">2.1.2.</span> <span class="toc-text">用ostreamstring对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用to-string函数"><span class="toc-number">2.1.3.</span> <span class="toc-text">用to_string函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用itoa函数"><span class="toc-number">2.1.4.</span> <span class="toc-text">用itoa函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-中如何把字符串转换为数字"><span class="toc-number">2.2.</span> <span class="toc-text">C++中如何把字符串转换为数字</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#用sscanf函数"><span class="toc-number">2.2.1.</span> <span class="toc-text">用sscanf函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用istreamstring对象"><span class="toc-number">2.2.2.</span> <span class="toc-text">用istreamstring对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用stoi-stof-stod函数"><span class="toc-number">2.2.3.</span> <span class="toc-text">用stoi stof stod函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用atoi-atof-strtof函数"><span class="toc-number">2.2.4.</span> <span class="toc-text">用atoi atof strtof函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java中如何把数字转换为字符串"><span class="toc-number">2.3.</span> <span class="toc-text">Java中如何把数字转换为字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java中如何把字符串转换为数字"><span class="toc-number">2.4.</span> <span class="toc-text">Java中如何把字符串转换为数字</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="快速参考"><a href="#快速参考" class="headerlink" title="快速参考"></a>快速参考</h2><p><strong>数字转字符串：</strong><br>C++</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">方法<span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sprintf</span><span class="params">( <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;</span><br><span class="line"></span><br><span class="line">方法<span class="number">2</span>)</span><br><span class="line"><span class="built_in">std</span>::<span class="function"><span class="built_in">ostringstream</span> <span class="title">out</span><span class="params">(<span class="string">"1 2"</span>)</span></span>;</span><br><span class="line">out &lt;&lt; <span class="number">3</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; out.str() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">方法<span class="number">3</span>）</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">100</span>;  <span class="keyword">double</span> d = <span class="number">-10.02</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; to_string(a) &lt;&lt; <span class="string">" "</span> &lt;&lt; to_string(d) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">方法<span class="number">4</span>）</span><br><span class="line"><span class="function"><span class="keyword">char</span> *  <span class="title">itoa</span> <span class="params">( <span class="keyword">int</span> value, <span class="keyword">char</span> * str, <span class="keyword">int</span> base )</span></span>;</span><br><span class="line">不推荐使用</span><br></pre></td></tr></table></figure>

<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String s1 = Integer.toString(a, <span class="number">10</span>);</span><br><span class="line">String s2 = Float.toString(f);</span><br><span class="line">String s3 = Float.toHexString(f);</span><br><span class="line">String s4 = Double.toString(d);</span><br><span class="line">String s5 = Character.toString(c);</span><br><span class="line">String s1 = String.valueOf(a);</span><br><span class="line">String s2 = String.valueOf(f);</span><br><span class="line">String s3 = String.valueOf(d);</span><br><span class="line">String s4 = String.valueOf(c);</span><br><span class="line">String s5 = String.valueOf(arr);</span><br></pre></td></tr></table></figure>

<p><strong>字符串转数字：</strong><br>C++</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">方法<span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sscanf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>; </span><br><span class="line"></span><br><span class="line">方法<span class="number">2</span>)</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">istringstream</span> in;  <span class="comment">// could also use in("1 2")</span></span><br><span class="line">in.str(<span class="string">"1 2"</span>);</span><br><span class="line">in &gt;&gt; n;  <span class="comment">// n = 1</span></span><br><span class="line"></span><br><span class="line">方法<span class="number">3</span>）</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">stoi</span><span class="params">( <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; str, <span class="built_in">std</span>::<span class="keyword">size_t</span>* pos = <span class="number">0</span>, <span class="keyword">int</span> base = <span class="number">10</span> )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">stof</span><span class="params">( <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; str, <span class="built_in">std</span>::<span class="keyword">size_t</span>* pos = <span class="number">0</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">方法<span class="number">4</span>）</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">atoi</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">atof</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">strtol</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str, <span class="keyword">char</span> **str_end, <span class="keyword">int</span> base )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">strtof</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* str, <span class="keyword">char</span>** str_end )</span></span>;  (since C++<span class="number">11</span>)</span><br></pre></td></tr></table></figure>

<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = Integer.parseInt(s1, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">float</span> f = Float.parseFloat(s2);</span><br><span class="line"><span class="keyword">double</span> d = Double.parseDouble(s3);</span><br></pre></td></tr></table></figure>

<h2 id="数字转字符串"><a href="#数字转字符串" class="headerlink" title="数字转字符串"></a>数字转字符串</h2><h3 id="C-中如何把数字转换为字符串"><a href="#C-中如何把数字转换为字符串" class="headerlink" title="C++中如何把数字转换为字符串"></a>C++中如何把数字转换为字符串</h3><ol>
<li>用<code>sprintf</code>函数</li>
<li>用<code>ostreamstring</code>对象</li>
<li>用<code>to_string</code>函数</li>
<li>用<code>itoa</code>函数</li>
</ol>
<h4 id="用sprintf函数"><a href="#用sprintf函数" class="headerlink" title="用sprintf函数"></a>用<code>sprintf</code>函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">printf</span>, <span class="built_in">std</span>::<span class="built_in">fprintf</span>, <span class="built_in">std</span>::<span class="built_in">sprintf</span>, <span class="built_in">std</span>::<span class="built_in">snprintf</span></span><br><span class="line">Defined in header &lt;cstdio&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">1</span>)	</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fprintf</span><span class="params">( <span class="built_in">std</span>::FILE* stream, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">2</span>)	</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sprintf</span><span class="params">( <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">3</span>)	</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">snprintf</span><span class="params">( <span class="keyword">char</span>* buffer, <span class="built_in">std</span>::<span class="keyword">size_t</span> buf_size, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">4</span>)	(since C++<span class="number">11</span>)</span><br></pre></td></tr></table></figure>

<p>从给定位置加载数据，将它们转换为字符串等效项，并将结果写入各种接收器。<br>1) Writes the results to stdout.<br>2) Writes the results to a file stream stream.<br>3) Writes the results to a character string buffer.<br>4) Writes the results to a character string buffer. At most <code>buf_size - 1</code> characters are written. The resulting character string will be terminated with a null character, unless <code>buf_size</code> is zero. If <code>buf_size</code> is zero, nothing is written and buffer may be a null pointer, however the return value (number of bytes that would be written) is still calculated and returned.<br>If a call to sprintf or snprintf causes copying to take place between objects that overlap, the behavior is undefined.</p>
<p><strong>Parameters</strong><br><strong>stream</strong>        -    output file stream to write to<br><strong>buffer</strong>        -    pointer to a character string to write to<br><strong>buf_size</strong>    -    up to <code>buf_size - 1</code> characters may be written, plus the null terminator<br><strong>format</strong>        -    pointer to a null-terminated multibyte string specifying how to interpret the data. The format string consists of ordinary multibyte characters (except %), which are copied unchanged into the output stream, and conversion specifications.</p>
<p><strong>Return value</strong><br>1-2) Number of characters written if successful or a negative value if an error occurred.<br>3) Number of characters written if successful (not including the terminating null character) or a negative value if an error occurred.<br>4) Number of characters that would have been written for a sufficiently large buffer if successful (not including the terminating null character), or a negative value if an error occurred. Thus, the (null-terminated) output has been completely written if and only if the returned value is nonnegative and less than buf_size.</p>
<hr>
<p>例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cinttypes&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Strings:\n"</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* s = <span class="string">"Hello"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"\t[%10s]\n\t[%-10s]\n\t[%*s]\n\t[%-10.*s]\n\t[%-*.*s]\n"</span>,</span><br><span class="line">        s, s, <span class="number">10</span>, s, <span class="number">4</span>, s, <span class="number">10</span>, <span class="number">4</span>, s);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Characters:\t%c %%\n"</span>, <span class="number">65</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Integers\n"</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Decimal:\t%i %d %.6i %i %.0i %+i %u\n"</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Hexadecimal:\t%x %x %X %#x\n"</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Octal:\t%o %#o %#o\n"</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Floating point\n"</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Rounding:\t%f %.0f %.32f\n"</span>, <span class="number">1.5</span>, <span class="number">1.5</span>, <span class="number">1.5</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Padding:\t%05.2f %.2f %5.2f\n"</span>, <span class="number">1.5</span>, <span class="number">1.5</span>, <span class="number">1.5</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Scientific:\t%E %e\n"</span>, <span class="number">1.5</span>, <span class="number">1.5</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Hexadecimal:\t%a %A\n"</span>, <span class="number">1.5</span>, <span class="number">1.5</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Special values:\t0/0=%g 1/0=%g\n"</span>, <span class="number">0.0</span>/<span class="number">0.0</span>, <span class="number">1.0</span>/<span class="number">0.0</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Variable width control:\n"</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"right-justified variable width: '%*c'\n"</span>, <span class="number">5</span>, <span class="string">'x'</span>);</span><br><span class="line">    <span class="keyword">int</span> r = <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"left-justified variable width : '%*c'\n"</span>, <span class="number">-5</span>, <span class="string">'x'</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"(the last printf printed %d characters)\n"</span>, r);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// fixed-width types</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">uint32_t</span> val = <span class="built_in">std</span>::numeric_limits&lt;<span class="built_in">std</span>::<span class="keyword">uint32_t</span>&gt;::max();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">printf</span>(<span class="string">"Largest 32-bit value is %"</span> PRIu32 <span class="string">" or %#"</span> PRIx32 <span class="string">"\n"</span>, val, val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Strings:</span><br><span class="line">        [     Hello]</span><br><span class="line">        [Hello     ]</span><br><span class="line">        [     Hello]</span><br><span class="line">        [Hell      ]</span><br><span class="line">        [Hell      ]</span><br><span class="line">Characters:     A %</span><br><span class="line">Integers</span><br><span class="line">Decimal:        1 2 000003 0  +4 4294967295</span><br><span class="line">Hexadecimal:    5 a A 0x6</span><br><span class="line">Octal:  12 012 04</span><br><span class="line">Floating point</span><br><span class="line">Rounding:       1.500000 2 1.30000000000000004440892098500626</span><br><span class="line">Padding:        01.50 1.50  1.50</span><br><span class="line">Scientific:     1.500000E+00 1.500000e+00</span><br><span class="line">Hexadecimal:    0x1.8p+0 0X1.8P+0</span><br><span class="line">Special values: 0/0=nan 1/0=inf</span><br><span class="line">Variable width control:</span><br><span class="line">right-justified variable width: &apos;    x&apos;</span><br><span class="line">left-justified variable width : &apos;x    &apos;</span><br><span class="line">(the last printf printed 40 characters)</span><br><span class="line">Largest 32-bit value is 4294967295 or 0xffffffff</span><br></pre></td></tr></table></figure>

<p>详见：<a href="http://en.cppreference.com/w/cpp/io/c/fprintf" target="_blank" rel="noopener">http://en.cppreference.com/w/cpp/io/c/fprintf</a></p>
<h4 id="用ostreamstring对象"><a href="#用ostreamstring对象" class="headerlink" title="用ostreamstring对象"></a>用<code>ostreamstring</code>对象</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">istringstream</span> in;  <span class="comment">// could also use in("1 2")</span></span><br><span class="line">    in.str(<span class="string">"1 2"</span>);</span><br><span class="line">    in &gt;&gt; n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"after reading the first int from \"1 2\", the int is "</span></span><br><span class="line">              &lt;&lt; n &lt;&lt; <span class="string">", str() = \""</span> &lt;&lt; in.str() &lt;&lt; <span class="string">"\"\n"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">ostringstream</span> <span class="title">out</span><span class="params">(<span class="string">"1 2"</span>)</span></span>;</span><br><span class="line">    out &lt;&lt; <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"after writing the int '3' to output stream \"1 2\""</span></span><br><span class="line">              &lt;&lt; <span class="string">", str() = \""</span> &lt;&lt; out.str() &lt;&lt; <span class="string">"\"\n"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">ostringstream</span> <span class="title">ate</span><span class="params">(<span class="string">"1 2"</span>, <span class="built_in">std</span>::ios_base::ate)</span></span>;</span><br><span class="line">    ate &lt;&lt; <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"after writing the int '3' to append stream \"1 2\""</span></span><br><span class="line">              &lt;&lt; <span class="string">", str() = \""</span> &lt;&lt; ate.str() &lt;&lt; <span class="string">"\"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line">after reading the first int from &quot;1 2&quot;, the int is 1, str() = &quot;1 2&quot;</span><br><span class="line">after writing the int &apos;3&apos; to output stream &quot;1 2&quot;, str() = &quot;3 2&quot;</span><br><span class="line">after writing the int &apos;3&apos; to append stream &quot;1 2&quot;, str() = &quot;1 23&quot;</span><br></pre></td></tr></table></figure>

<p>打开输入输出流的方式：</p>
<table>
<thead>
<tr>
<th align="left">Constant</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody><tr>
<td align="left">app</td>
<td align="left">seek to the end of stream before each write</td>
</tr>
<tr>
<td align="left">binary</td>
<td align="left">open in binary mode</td>
</tr>
<tr>
<td align="left">in</td>
<td align="left">open for reading</td>
</tr>
<tr>
<td align="left">out</td>
<td align="left">open for writing</td>
</tr>
<tr>
<td align="left">trunc</td>
<td align="left">discard the contents of the stream when opening</td>
</tr>
<tr>
<td align="left">ate</td>
<td align="left">seek to the end of stream immediately after open</td>
</tr>
</tbody></table>
<h4 id="用to-string函数"><a href="#用to-string函数" class="headerlink" title="用to_string函数"></a>用<code>to_string</code>函数</h4><p><code>to_string</code>函数是C++11标准引入的，它可以把int,long,double,long long等数据类型的变量转换成string类型，<code>to_string</code>函数定义在头文件<code>&lt;string&gt;</code>中，把数字转变为string类型和直接用<code>std::cout</code>打印出来的效果略有差别，具体看下面的例子。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> f = <span class="number">23.43</span>;</span><br><span class="line">    <span class="keyword">double</span> f2 = <span class="number">1e-9</span>;</span><br><span class="line">    <span class="keyword">double</span> f3 = <span class="number">1e40</span>;</span><br><span class="line">    <span class="keyword">double</span> f4 = <span class="number">1e-40</span>;</span><br><span class="line">    <span class="keyword">double</span> f5 = <span class="number">123456789</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> f_str = <span class="built_in">std</span>::to_string(f);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> f_str2 = <span class="built_in">std</span>::to_string(f2); <span class="comment">// Note: returns "0.000000"</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> f_str3 = <span class="built_in">std</span>::to_string(f3); <span class="comment">// Note: Does not return "1e+40".</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> f_str4 = <span class="built_in">std</span>::to_string(f4); <span class="comment">// Note: returns "0.000000"</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> f_str5 = <span class="built_in">std</span>::to_string(f5);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::cout: "</span> &lt;&lt; f &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"to_string: "</span> &lt;&lt; f_str  &lt;&lt; <span class="string">"\n\n"</span></span><br><span class="line">              &lt;&lt; <span class="string">"std::cout: "</span> &lt;&lt; f2 &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"to_string: "</span> &lt;&lt; f_str2 &lt;&lt; <span class="string">"\n\n"</span></span><br><span class="line">              &lt;&lt; <span class="string">"std::cout: "</span> &lt;&lt; f3 &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"to_string: "</span> &lt;&lt; f_str3 &lt;&lt; <span class="string">"\n\n"</span></span><br><span class="line">              &lt;&lt; <span class="string">"std::cout: "</span> &lt;&lt; f4 &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"to_string: "</span> &lt;&lt; f_str4 &lt;&lt; <span class="string">"\n\n"</span></span><br><span class="line">              &lt;&lt; <span class="string">"std::cout: "</span> &lt;&lt; f5 &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"to_string: "</span> &lt;&lt; f_str5 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">-100</span>;</span><br><span class="line">    <span class="keyword">float</span> b = <span class="number">-012.00</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; to_string(a) &lt;&lt; <span class="string">" "</span> &lt;&lt; to_string(b) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line">std::cout: 23.43</span><br><span class="line">to_string: 23.430000</span><br><span class="line"></span><br><span class="line">std::cout: 1e-09</span><br><span class="line">to_string: 0.000000</span><br><span class="line"></span><br><span class="line">std::cout: 1e+40</span><br><span class="line">to_string: 10000000000000000303786028427003666890752.000000</span><br><span class="line"></span><br><span class="line">std::cout: 1e-40</span><br><span class="line">to_string: 0.000000</span><br><span class="line"></span><br><span class="line">std::cout: 1.23457e+08</span><br><span class="line">to_string: 123456789.000000</span><br><span class="line">-100 12.000000</span><br></pre></td></tr></table></figure>

<h4 id="用itoa函数"><a href="#用itoa函数" class="headerlink" title="用itoa函数"></a>用<code>itoa</code>函数</h4><p>函数原型为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">char *  itoa ( int value, char * str, int base );</span><br></pre></td></tr></table></figure>

<p>该函数会把<code>value</code>按照<code>base</code>进制转换成字符串并存放在<code>str</code>所指向的内存单元中，返回值是一个以<code>null</code>结尾的字符串，和参数<code>str</code>一样。该函数没有在<strong>ANSI-C</strong>中定义，也不是C++的一部分，但是一些编译器支持这样使用，定义在头文件<code>&lt;stdlib.h&gt;</code>中。<br>既然有这么多选择，所以不推荐使用此函数，该函数的可移植性比较差。</p>
<h3 id="C-中如何把字符串转换为数字"><a href="#C-中如何把字符串转换为数字" class="headerlink" title="C++中如何把字符串转换为数字"></a>C++中如何把字符串转换为数字</h3><ol>
<li>用<code>sscanf</code>函数</li>
<li>用<code>istreamstring</code>对象</li>
<li>用<code>stoi</code> <code>stof</code> <code>stod</code>函数</li>
<li>用<code>atoi</code> <code>atof</code> <code>strtof</code>函数</li>
</ol>
<h4 id="用sscanf函数"><a href="#用sscanf函数" class="headerlink" title="用sscanf函数"></a>用<code>sscanf</code>函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">scanf</span>, <span class="built_in">std</span>::<span class="built_in">fscanf</span>, <span class="built_in">std</span>::<span class="built_in">sscanf</span></span><br><span class="line">Defined in header &lt;cstdio&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">scanf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;​  (<span class="number">1</span>)	</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fscanf</span><span class="params">( <span class="built_in">std</span>::FILE* stream, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">2</span>)	</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sscanf</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* buffer, <span class="keyword">const</span> <span class="keyword">char</span>* format, ... )</span></span>;  (<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Reads data from the a variety of sources, interprets it according to format and stores the results into given locations.<br>1) Reads the data from stdin<br>2) Reads the data from file stream stream<br>3) Reads the data from null-terminated character string buffer<br><strong>Return value:</strong><br>Number of receiving arguments successfully assigned (which may be zero in case a matching failure occurred before the first receiving argument was assigned), or EOF if input failure occurs before the first receiving argument was assigned.</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;clocale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">float</span> x, y;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">10</span>], str2[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">wchar_t</span> warr[<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">std</span>::setlocale(LC_ALL, <span class="string">"en_US.utf8"</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">char</span> input[] = <span class="string">u8"25 54.32E-1 Thompson 56789 0123 56ß水"</span>;</span><br><span class="line">    <span class="comment">// parse as follows:</span></span><br><span class="line">    <span class="comment">// %d: an integer </span></span><br><span class="line">    <span class="comment">// %f: a floating-point value</span></span><br><span class="line">    <span class="comment">// %9s: a string of at most 9 non-whitespace characters</span></span><br><span class="line">    <span class="comment">// %2d: two-digit integer (digits 5 and 6)</span></span><br><span class="line">    <span class="comment">// %f: a floating-point value (digits 7, 8, 9)</span></span><br><span class="line">    <span class="comment">// %*d an integer which isn't stored anywhere</span></span><br><span class="line">    <span class="comment">// ' ': all consecutive whitespace</span></span><br><span class="line">    <span class="comment">// %3[0-9]: a string of at most 3 digits (digits 5 and 6)</span></span><br><span class="line">    <span class="comment">// %2lc: two wide characters, using multibyte to wide conversion</span></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">std</span>::<span class="built_in">sscanf</span>(input, <span class="string">"%d%f%9s%2d%f%*d %3[0-9]%2lc"</span>,</span><br><span class="line">                     &amp;i, &amp;x, str1, &amp;j, &amp;y, str2, warr);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Converted "</span> &lt;&lt; ret &lt;&lt; <span class="string">" fields:\n"</span></span><br><span class="line">              &lt;&lt; <span class="string">"i = "</span> &lt;&lt; i &lt;&lt; <span class="string">"\nx = "</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"str1 = "</span> &lt;&lt; str1 &lt;&lt; <span class="string">"\nj = "</span> &lt;&lt; j &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="string">"y = "</span> &lt;&lt; y &lt;&lt; <span class="string">"\nstr2 = "</span> &lt;&lt; str2 &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::hex &lt;&lt; <span class="string">"warr[0] = U+"</span> &lt;&lt; warr[<span class="number">0</span>]</span><br><span class="line">              &lt;&lt; <span class="string">" warr[1] = U+"</span> &lt;&lt; warr[<span class="number">1</span>] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">Converted 7 fields:</span></span><br><span class="line"><span class="comment">i = 25</span></span><br><span class="line"><span class="comment">x = 5.432</span></span><br><span class="line"><span class="comment">str1 = Thompson</span></span><br><span class="line"><span class="comment">j = 56</span></span><br><span class="line"><span class="comment">y = 789</span></span><br><span class="line"><span class="comment">str2 = 56</span></span><br><span class="line"><span class="comment">warr[0] = U+df warr[1] = U+6c34</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="用istreamstring对象"><a href="#用istreamstring对象" class="headerlink" title="用istreamstring对象"></a>用<code>istreamstring</code>对象</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">istringstream</span> in;  <span class="comment">// could also use in("1 2")</span></span><br><span class="line">    in.str(<span class="string">"1 2"</span>);</span><br><span class="line">    in &gt;&gt; n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"after reading the first int from \"1 2\", the int is "</span></span><br><span class="line">              &lt;&lt; n &lt;&lt; <span class="string">", str() = \""</span> &lt;&lt; in.str() &lt;&lt; <span class="string">"\"\n"</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">after reading the first int from "1 2", the int is 1, str() = "1 2"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="用stoi-stof-stod函数"><a href="#用stoi-stof-stod函数" class="headerlink" title="用stoi stof stod函数"></a>用<code>stoi</code> <code>stof</code> <code>stod</code>函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">std::stoi, std::stol, std::stoll</span><br><span class="line">Defined in header &lt;string&gt;</span><br><span class="line">int       stoi( const std::string&amp; str, std::size_t* pos = 0, int base = 10 );</span><br><span class="line">int       stoi( const std::wstring&amp; str, std::size_t* pos = 0, int base = 10 );  (1)	(since C++11)</span><br><span class="line">long      stol( const std::string&amp; str, std::size_t* pos = 0, int base = 10 );</span><br><span class="line">long      stol( const std::wstring&amp; str, std::size_t* pos = 0, int base = 10 );  (2)	(since C++11)</span><br><span class="line">long long stoll( const std::string&amp; str, std::size_t* pos = 0, int base = 10 );</span><br><span class="line">long long stoll( const std::wstring&amp; str, std::size_t* pos = 0, int base = 10 );  (3)	(since C++11)</span><br><span class="line"></span><br><span class="line">std::stoul, std::stoull</span><br><span class="line">Defined in header &lt;string&gt;</span><br><span class="line">unsigned long      stoul( const std::string&amp; str, std::size_t* pos = 0, int base = 10 );</span><br><span class="line">unsigned long      stoul( const std::wstring&amp; str, std::size_t* pos = 0, int base = 10 );  (1)	(since C++11)</span><br><span class="line">unsigned long long stoull( const std::string&amp; str, std::size_t* pos = 0, int base = 10 );</span><br><span class="line">unsigned long long stoull( const std::wstring&amp; str, std::size_t* pos = 0, int base = 10 );  (2)	(since C++11)</span><br><span class="line"></span><br><span class="line">std::stof, std::stod, std::stold</span><br><span class="line">Defined in header &lt;string&gt;</span><br><span class="line">float       stof( const std::string&amp; str, std::size_t* pos = 0 );</span><br><span class="line">float       stof( const std::wstring&amp; str, std::size_t* pos = 0 );  (1)	(since C++11)</span><br><span class="line">double      stod( const std::string&amp; str, std::size_t* pos = 0 );</span><br><span class="line">double      stod( const std::wstring&amp; str, std::size_t* pos = 0 );  (2)	(since C++11)</span><br><span class="line">long double stold( const std::string&amp; str, std::size_t* pos = 0 );</span><br><span class="line">long double stold( const std::wstring&amp; str, std::size_t* pos = 0 );  (3)	(since C++11)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Parameters</strong><br>str    -    the string to convert<br>pos    -    address of an integer to store the number of characters processed<br>base    -    the number base<br><strong>Return value</strong><br>The string converted to the specified signed integer type.<br><strong>Exceptions</strong><br><code>std::invalid_argument</code> if no conversion could be performed<br><code>std::out_of_range</code> if the converted value would fall out of the range of the result type or if the underlying function (std::strtol or std::strtoll) sets errno to ERANGE.</p>
</blockquote>
<p>例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str1 = <span class="string">"45"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str2 = <span class="string">"3.14159"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str3 = <span class="string">"32 with words"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str4 = <span class="string">"words and 2"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">size_t</span> num = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> myint1 = <span class="built_in">std</span>::stoi(str1);</span><br><span class="line">    <span class="keyword">float</span> myfloat = <span class="built_in">std</span>::stof(str2);</span><br><span class="line">    <span class="keyword">int</span> myint2 = <span class="built_in">std</span>::stoi(str3, &amp;num, <span class="number">16</span>);</span><br><span class="line">    <span class="comment">// error: 'std::invalid_argument'</span></span><br><span class="line">    <span class="comment">// int myint4 = std::stoi(str4);</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::stoi(\""</span> &lt;&lt; str1 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; myint1 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::stof(\""</span> &lt;&lt; str2 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; myfloat &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::stoi(\""</span> &lt;&lt; str3 &lt;&lt; <span class="string">"\""</span> &lt;&lt; <span class="string">" ,&amp;num"</span> &lt;&lt; <span class="string">" ,16"</span> &lt;&lt; <span class="string">") is "</span> &lt;&lt; myint2 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"num = "</span> &lt;&lt; num &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//std::cout &lt;&lt; "std::stoi(\"" &lt;&lt; str4 &lt;&lt; "\") is " &lt;&lt; myint4 &lt;&lt; '\n';</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">std::stoi("45") is 45</span></span><br><span class="line"><span class="comment">std::stof("3.14159") is 3.14159</span></span><br><span class="line"><span class="comment">std::stoi("32 with words" ,&amp;num ,16) is 50</span></span><br><span class="line"><span class="comment">num = 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="用atoi-atof-strtof函数"><a href="#用atoi-atof-strtof函数" class="headerlink" title="用atoi atof strtof函数"></a>用<code>atoi</code> <code>atof</code> <code>strtof</code>函数</h4><p>这里的一系列函数的输入字符串都是<code>char*</code>，对于C类型的字符串可以用下面这些函数。需要注意的是<code>atoi</code>函数是按10进制解释字符串所表示的整数，如果没有可转换进行时（比如所解析的字符串首字符不是数字或正负号），返回<code>0</code>。
<code>strtol</code>函数可以按照指定的进制解释字符串所表示的整数，<code>strtol</code> <code>strtof</code> <code>strtod</code>函数的第二个参数是<code>char**</code>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::atoi, <span class="built_in">std</span>::atol, <span class="built_in">std</span>::atoll</span><br><span class="line">Defined in header &lt;cstdlib&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span>       <span class="title">atoi</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span>      <span class="title">atol</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">atoll</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::atof</span><br><span class="line">Defined in header &lt;cstdlib&gt;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">atof</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::strtof, <span class="built_in">std</span>::strtod, <span class="built_in">std</span>::strtold</span><br><span class="line">Defined in header &lt;cstdlib&gt;</span><br><span class="line"><span class="function"><span class="keyword">float</span>       <span class="title">strtof</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* str, <span class="keyword">char</span>** str_end )</span></span>;  (since C++<span class="number">11</span>)</span><br><span class="line"><span class="function"><span class="keyword">double</span>      <span class="title">strtod</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* str, <span class="keyword">char</span>** str_end )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">double</span> <span class="title">strtold</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span>* str, <span class="keyword">char</span>** str_end )</span></span>;  (since C++<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::strtol, <span class="built_in">std</span>::strtoll</span><br><span class="line">Defined in header &lt;cstdlib&gt;</span><br><span class="line"><span class="function"><span class="keyword">long</span>      <span class="title">strtol</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str, <span class="keyword">char</span> **str_end, <span class="keyword">int</span> base )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">strtoll</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str, <span class="keyword">char</span> **str_end, <span class="keyword">int</span> base )</span></span>;  (since C++<span class="number">11</span>)</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *str1 = <span class="string">"42"</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *str2 = <span class="string">"3.14159"</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *str3 = <span class="string">"31337 with words"</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *str4 = <span class="string">"words and 2"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> num1 = <span class="built_in">std</span>::atoi(str1);</span><br><span class="line">    <span class="keyword">int</span> num2 = <span class="built_in">std</span>::atoi(str2);</span><br><span class="line">    <span class="keyword">int</span> num3 = <span class="built_in">std</span>::atoi(str3);</span><br><span class="line">    <span class="keyword">int</span> num4 = <span class="built_in">std</span>::atoi(str4);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::atoi(\""</span> &lt;&lt; str1 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; num1 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::atoi(\""</span> &lt;&lt; str2 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; num2 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::atoi(\""</span> &lt;&lt; str3 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; num3 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"std::atoi(\""</span> &lt;&lt; str4 &lt;&lt; <span class="string">"\") is "</span> &lt;&lt; num4 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">std::atoi("42") is 42</span></span><br><span class="line"><span class="comment">std::atoi("3.14159") is 3</span></span><br><span class="line"><span class="comment">std::atoi("31337 with words") is 31337</span></span><br><span class="line"><span class="comment">std::atoi("words and 2") is 0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"0.0000000123"</span>) &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"0.012"</span>) &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"15e16"</span>) &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"-0x1afp-2"</span>) &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"inF"</span>) &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">              &lt;&lt; <span class="built_in">std</span>::atof(<span class="string">"Nan"</span>) &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">1.23e-08</span></span><br><span class="line"><span class="comment">0.012</span></span><br><span class="line"><span class="comment">1.5e+17</span></span><br><span class="line"><span class="comment">-107.75</span></span><br><span class="line"><span class="comment">inf</span></span><br><span class="line"><span class="comment">nan</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* p = <span class="string">"10 200000000000000000000000000000 30 -40"</span>;</span><br><span class="line">    <span class="keyword">char</span> *end;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Parsing '"</span> &lt;&lt; p &lt;&lt; <span class="string">"':\n"</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="built_in">std</span>::strtol(p, &amp;end, <span class="number">10</span>);</span><br><span class="line">         p != end;</span><br><span class="line">         i = <span class="built_in">std</span>::strtol(p, &amp;end, <span class="number">10</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"'"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">string</span>(p, end-p) &lt;&lt; <span class="string">"' -&gt; "</span>;</span><br><span class="line">        p = end;</span><br><span class="line">        <span class="keyword">if</span> (errno == ERANGE)&#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"range error, got "</span>;</span><br><span class="line">            errno = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">Parsing '10 200000000000000000000000000000 30 -40':</span></span><br><span class="line"><span class="comment">'10' -&gt; 10</span></span><br><span class="line"><span class="comment">' 200000000000000000000000000000' -&gt; range error, got 9223372036854775807</span></span><br><span class="line"><span class="comment">' 30' -&gt; 30</span></span><br><span class="line"><span class="comment">' -40' -&gt; -40</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* p = <span class="string">"111.11 -2.22 0X1.BC70A3D70A3D7P+6  1.18973e+4932zzz"</span>;</span><br><span class="line">    <span class="keyword">char</span>* end;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Parsing \""</span> &lt;&lt; p &lt;&lt; <span class="string">"\":\n"</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">double</span> f = <span class="built_in">std</span>::strtod(p, &amp;end); p != end; f = <span class="built_in">std</span>::strtod(p, &amp;end))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"'"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">string</span>(p, end-p) &lt;&lt; <span class="string">"' -&gt; "</span>;</span><br><span class="line">        p = end;</span><br><span class="line">        <span class="keyword">if</span> (errno == ERANGE)&#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"range error, got "</span>;</span><br><span class="line">            errno = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; f &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Output:</span></span><br><span class="line"><span class="comment">Parsing "111.11 -2.22 0X1.BC70A3D70A3D7P+6  1.18973e+4932zzz":</span></span><br><span class="line"><span class="comment">'111.11' -&gt; 111.11</span></span><br><span class="line"><span class="comment">' -2.22' -&gt; -2.22</span></span><br><span class="line"><span class="comment">' 0X1.BC70A3D70A3D7P+6' -&gt; 111.11</span></span><br><span class="line"><span class="comment">'  1.18973e+4932' -&gt; range error, got inf</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Java中如何把数字转换为字符串"><a href="#Java中如何把数字转换为字符串" class="headerlink" title="Java中如何把数字转换为字符串"></a>Java中如何把数字转换为字符串</h3><p>函数原型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> i,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> radix)</span></span></span><br></pre></td></tr></table></figure>

<p>该函数是类<code>Integer</code>中的一个静态方法，该函数作用是把整数按某一进制转换成字符串并返回。具体的描述如下（摘自Java SE 8参考文档）。</p>
<blockquote>
<p>Returns a string representation of the first argument in the radix specified by the second argument.  If the radix is smaller than <code>Character.MIN_RADIX</code> or larger than <code>Character.MAX_RADIX</code>, then the radix 10 is used instead. </p>
<p>If the first argument is negative, the first element of the result is the ASCII minus character ‘-‘ (‘\u002D’). If the first argument is not negative, no sign character appears in the result.</p>
<p>The remaining characters of the result represent the magnitude of the first argument. If the magnitude is zero, it is represented by a single zero character ‘0’ (‘\u0030’); otherwise, the first character of the representation of the magnitude will not be the zero character.<br>The following ASCII characters are used as digits: </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0123456789abcdefghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure>

<blockquote>
<p>These are ‘\u0030’ through ‘\u0039’ and ‘\u0061’ through ‘\u007A’. If radix is N, then the first N of these characters are used as radix-N digits in the order shown. Thus, the digits for hexadecimal (radix 16) are 0123456789abcdef. If uppercase letters are desired, the <code>String.toUpperCase()</code> method may be called on the result:  <code>Integer.toString(n, 16).toUpperCase()</code></p>
</blockquote>
<p>相关函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toUnsignedString</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> radix)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toHexString</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toOctalString</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toBinaryString</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br></pre></td></tr></table></figure>

<p>对于Float、Double、Character向字符串的转换：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ToString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">float</span> f = -<span class="number">12.70f</span>;</span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">13.54</span>;</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">'A'</span>;</span><br><span class="line">        String s1 = Integer.toString(a, <span class="number">10</span>);</span><br><span class="line">        String s2 = Float.toString(f);</span><br><span class="line">        String s3 = Float.toHexString(f);</span><br><span class="line">        String s4 = Double.toString(d);</span><br><span class="line">        String s5 = Character.toString(c);</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">        System.out.println(s4);</span><br><span class="line">        System.out.println(s5);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        10</span></span><br><span class="line"><span class="comment">        -12.7</span></span><br><span class="line"><span class="comment">        -0x1.966666p3</span></span><br><span class="line"><span class="comment">        13.54</span></span><br><span class="line"><span class="comment">        A</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用String类中的静态方法把int，float，double，char转换为字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ToString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">float</span> f = -<span class="number">12.70f</span>;</span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">13.54</span>;</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">'A'</span>;</span><br><span class="line">        <span class="keyword">char</span>[] arr = &#123;<span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>&#125;;</span><br><span class="line"></span><br><span class="line">        String s1 = String.valueOf(a);</span><br><span class="line">        String s2 = String.valueOf(f);</span><br><span class="line">        String s3 = String.valueOf(d);</span><br><span class="line">        String s4 = String.valueOf(c);</span><br><span class="line">        String s5 = String.valueOf(arr);</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">        System.out.println(s4);</span><br><span class="line">        System.out.println(s5);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        10</span></span><br><span class="line"><span class="comment">        -12.7</span></span><br><span class="line"><span class="comment">        13.54</span></span><br><span class="line"><span class="comment">        A</span></span><br><span class="line"><span class="comment">        hello</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Java中如何把字符串转换为数字"><a href="#Java中如何把字符串转换为数字" class="headerlink" title="Java中如何把字符串转换为数字"></a>Java中如何把字符串转换为数字</h3><p>函数原型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String s,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">int</span> radix)</span></span></span><br><span class="line"><span class="function">                    <span class="keyword">throws</span> NumberFormatException</span></span><br></pre></td></tr></table></figure>

<p>该函数是类<code>Integer</code>中的一个静态方法，该函数作用是把字符串按某一进制转换成整数并返回。具体的描述如下（摘自Java SE 8参考文档）。</p>
<blockquote>
<p>Parses the string argument as a signed integer in the radix specified by the second argument. The characters in the string must all be digits of the specified radix (as determined by whether <code>Character.digit(char, int)</code> returns a nonnegative value), except that the first character may be an ASCII minus sign ‘-‘ (‘\u002D’) to indicate a negative value or an ASCII plus sign ‘+’ (‘\u002B’) to indicate a positive value. The resulting integer value is returned. </p>
</blockquote>
<p>An exception of type <code>NumberFormatException</code> is thrown if any of the following situations occurs: </p>
<ul>
<li>The first argument is null or is a string of length zero. </li>
<li>The radix is either smaller than Character.MIN_RADIX or larger than Character.MAX_RADIX. </li>
<li>Any character of the string is not a digit of the specified radix, except that the first character may be a minus sign ‘-‘ (‘\u002D’) or plus sign ‘+’ (‘\u002B’) provided that the string is longer than length 1. </li>
<li>The value represented by the string is not a value of type int. </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Examples: </span><br><span class="line"> parseInt(<span class="string">"0"</span>, <span class="number">10</span>) returns <span class="number">0</span></span><br><span class="line"> parseInt(<span class="string">"473"</span>, <span class="number">10</span>) returns <span class="number">473</span></span><br><span class="line"> parseInt(<span class="string">"+42"</span>, <span class="number">10</span>) returns <span class="number">42</span></span><br><span class="line"> parseInt(<span class="string">"-0"</span>, <span class="number">10</span>) returns <span class="number">0</span></span><br><span class="line"> parseInt(<span class="string">"-FF"</span>, <span class="number">16</span>) returns -<span class="number">255</span></span><br><span class="line"> parseInt(<span class="string">"1100110"</span>, <span class="number">2</span>) returns <span class="number">102</span></span><br><span class="line"> parseInt(<span class="string">"2147483647"</span>, <span class="number">10</span>) returns <span class="number">2147483647</span></span><br><span class="line"> parseInt(<span class="string">"-2147483648"</span>, <span class="number">10</span>) returns -<span class="number">2147483648</span></span><br><span class="line"> parseInt(<span class="string">"2147483648"</span>, <span class="number">10</span>) <span class="keyword">throws</span> a NumberFormatException</span><br><span class="line"> parseInt(<span class="string">"99"</span>, <span class="number">8</span>) <span class="keyword">throws</span> a NumberFormatException</span><br><span class="line"> parseInt(<span class="string">"Kona"</span>, <span class="number">10</span>) <span class="keyword">throws</span> a NumberFormatException</span><br><span class="line"> parseInt(<span class="string">"Kona"</span>, <span class="number">27</span>) returns <span class="number">411787</span></span><br></pre></td></tr></table></figure>

<p>和它对应的还有一个函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function">                    <span class="keyword">throws</span> NumberFormatException</span></span><br></pre></td></tr></table></figure>

<p>该函数是默认按照十进制进行转换的。<br>字符串转换到Double、Float：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ToString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="keyword">new</span> String(<span class="string">"-0100"</span>);</span><br><span class="line">        String s2 = <span class="string">"0.0050"</span>;</span><br><span class="line">        String s3 = <span class="string">"23.98f"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i = Integer.parseInt(s1, <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">float</span> f = Float.parseFloat(s2);</span><br><span class="line">        <span class="keyword">double</span> d = Double.parseDouble(s3);</span><br><span class="line"></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(f);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        -100</span></span><br><span class="line"><span class="comment">        0.005</span></span><br><span class="line"><span class="comment">        23.98</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="tags"><a href="/tags/Algorithm/">Algorithm</a></div><div class="post-nav"><a class="pre" href="/2017/04/16/C++中各种类型的数据所占内存的大小/">C++中各种类型的数据所占内存的大小</a><a class="next" href="/2017/03/20/Hexo博客建站流程备忘/">Hexo博客建站流程备忘</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://evanqiao.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客建设/">博客建设</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/我学编程/">我学编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/文清说/">文清说</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程语言/">编程语言</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/Raspberry/" style="font-size: 15px;">Raspberry</a> <a href="/tags/MarkDown/" style="font-size: 15px;">MarkDown</a> <a href="/tags/Mathematics/" style="font-size: 15px;">Mathematics</a> <a href="/tags/May/" style="font-size: 15px;">May</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/free/" style="font-size: 15px;">free</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/07/30/NOIP2012_02寻宝/">NOIP2012寻宝</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/30/NOIP2013_2表达式求值/">NOIP2013表达式求值</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/05/斜挎包的聚会/">跨斜包的聚会</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/04/Practical_backTracking/">实践回溯法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/21/heap_priority_queue/">堆和优先队列的算法应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/14/The_first_one/">The First One</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/14/来玩一下超声波测距/">来玩一下超声波测距</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/14/Practical_binaryTree/">初探二叉树的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/09/cpp_exercises_1/">C++练习题目（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/08/LCD通过按键控制显示自定义图标/">LCD通过按键显示自定义图标</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">晓江南的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>